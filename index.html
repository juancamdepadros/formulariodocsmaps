<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario DocsMap</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" zoomAndPan="magnify" viewBox="0 0 1050 1049.999947" height="40" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="2afdc76dd3"><path d="M 175.441406 0 L 776.46875 0 L 776.46875 800 L 175.441406 800 Z M 175.441406 0 " clip-rule="nonzero"/></clipPath><clipPath id="01af969fd4"><path d="M 308 517.199219 L 858 517.199219 L 858 1050 L 308 1050 Z M 308 517.199219 " clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#2afdc76dd3)"><path fill="#000000" d="M 513.050781 781.914062 C 593.34375 681.417969 776.46875 437.847656 776.46875 301.035156 C 776.46875 135.109375 641.863281 0.488281 475.953125 0.488281 C 310.046875 0.488281 175.441406 135.109375 175.441406 301.035156 C 175.441406 437.847656 358.566406 681.417969 438.859375 781.914062 C 458.113281 805.867188 493.796875 805.867188 513.050781 781.914062 Z M 475.953125 200.851562 C 477.59375 200.851562 479.234375 200.894531 480.871094 200.972656 C 482.507812 201.054688 484.140625 201.175781 485.773438 201.335938 C 487.40625 201.496094 489.03125 201.695312 490.652344 201.9375 C 492.273438 202.179688 493.890625 202.457031 495.496094 202.777344 C 497.105469 203.097656 498.703125 203.457031 500.292969 203.855469 C 501.886719 204.253906 503.464844 204.691406 505.03125 205.167969 C 506.601562 205.644531 508.15625 206.15625 509.703125 206.710938 C 511.246094 207.261719 512.773438 207.851562 514.289062 208.480469 C 515.804688 209.105469 517.300781 209.769531 518.785156 210.472656 C 520.265625 211.171875 521.730469 211.910156 523.175781 212.683594 C 524.621094 213.457031 526.046875 214.261719 527.453125 215.105469 C 528.859375 215.949219 530.246094 216.828125 531.605469 217.738281 C 532.96875 218.648438 534.308594 219.59375 535.628906 220.570312 C 536.945312 221.546875 538.234375 222.554688 539.503906 223.59375 C 540.769531 224.632812 542.011719 225.703125 543.226562 226.804688 C 544.441406 227.90625 545.628906 229.035156 546.785156 230.195312 C 547.945312 231.355469 549.078125 232.542969 550.175781 233.757812 C 551.277344 234.972656 552.347656 236.214844 553.386719 237.480469 C 554.429688 238.75 555.4375 240.039062 556.414062 241.359375 C 557.390625 242.675781 558.332031 244.015625 559.246094 245.378906 C 560.15625 246.742188 561.03125 248.125 561.875 249.53125 C 562.71875 250.9375 563.527344 252.363281 564.296875 253.808594 C 565.070312 255.257812 565.808594 256.71875 566.507812 258.203125 C 567.210938 259.683594 567.875 261.183594 568.5 262.699219 C 569.128906 264.210938 569.71875 265.742188 570.269531 267.285156 C 570.824219 268.828125 571.335938 270.386719 571.8125 271.953125 C 572.289062 273.523438 572.726562 275.105469 573.125 276.695312 C 573.523438 278.285156 573.882812 279.882812 574.203125 281.492188 C 574.523438 283.101562 574.800781 284.714844 575.042969 286.335938 C 575.28125 287.957031 575.484375 289.585938 575.644531 291.21875 C 575.804688 292.847656 575.925781 294.484375 576.007812 296.121094 C 576.085938 297.757812 576.125 299.398438 576.125 301.035156 C 576.125 302.675781 576.085938 304.316406 576.007812 305.953125 C 575.925781 307.589844 575.804688 309.222656 575.644531 310.855469 C 575.484375 312.488281 575.28125 314.113281 575.042969 315.738281 C 574.800781 317.359375 574.523438 318.972656 574.203125 320.582031 C 573.882812 322.1875 573.523438 323.789062 573.125 325.378906 C 572.726562 326.96875 572.289062 328.550781 571.8125 330.117188 C 571.335938 331.6875 570.824219 333.242188 570.269531 334.785156 C 569.71875 336.332031 569.128906 337.859375 568.5 339.375 C 567.875 340.890625 567.210938 342.386719 566.507812 343.871094 C 565.808594 345.351562 565.070312 346.816406 564.296875 348.261719 C 563.527344 349.707031 562.71875 351.132812 561.875 352.539062 C 561.03125 353.945312 560.15625 355.332031 559.246094 356.695312 C 558.332031 358.058594 557.390625 359.398438 556.414062 360.714844 C 555.4375 362.03125 554.429688 363.324219 553.386719 364.59375 C 552.347656 365.859375 551.277344 367.101562 550.175781 368.316406 C 549.078125 369.53125 547.945312 370.71875 546.785156 371.875 C 545.628906 373.035156 544.441406 374.167969 543.226562 375.265625 C 542.011719 376.367188 540.769531 377.4375 539.503906 378.480469 C 538.234375 379.519531 536.945312 380.527344 535.628906 381.503906 C 534.308594 382.480469 532.96875 383.425781 531.605469 384.335938 C 530.242188 385.246094 528.859375 386.125 527.453125 386.964844 C 526.046875 387.808594 524.621094 388.617188 523.175781 389.390625 C 521.730469 390.164062 520.265625 390.898438 518.785156 391.601562 C 517.300781 392.300781 515.804688 392.964844 514.289062 393.59375 C 512.773438 394.222656 511.246094 394.8125 509.703125 395.363281 C 508.15625 395.914062 506.601562 396.429688 505.03125 396.90625 C 503.464844 397.382812 501.886719 397.820312 500.292969 398.21875 C 498.703125 398.617188 497.105469 398.976562 495.496094 399.292969 C 493.890625 399.613281 492.273438 399.894531 490.652344 400.136719 C 489.03125 400.375 487.40625 400.578125 485.773438 400.738281 C 484.140625 400.898438 482.507812 401.019531 480.871094 401.097656 C 479.234375 401.179688 477.59375 401.21875 475.953125 401.21875 C 474.316406 401.21875 472.675781 401.179688 471.039062 401.097656 C 469.402344 401.019531 467.769531 400.898438 466.136719 400.738281 C 464.503906 400.578125 462.878906 400.375 461.257812 400.136719 C 459.636719 399.894531 458.019531 399.613281 456.414062 399.292969 C 454.804688 398.976562 453.207031 398.617188 451.613281 398.21875 C 450.023438 397.820312 448.445312 397.382812 446.875 396.90625 C 445.308594 396.429688 443.75 395.914062 442.207031 395.363281 C 440.664062 394.8125 439.136719 394.222656 437.621094 393.59375 C 436.105469 392.964844 434.609375 392.300781 433.125 391.601562 C 431.644531 390.898438 430.179688 390.164062 428.734375 389.390625 C 427.289062 388.617188 425.863281 387.808594 424.457031 386.964844 C 423.050781 386.125 421.664062 385.246094 420.300781 384.335938 C 418.9375 383.425781 417.597656 382.480469 416.28125 381.503906 C 414.964844 380.527344 413.675781 379.519531 412.40625 378.480469 C 411.140625 377.4375 409.898438 376.367188 408.683594 375.265625 C 407.46875 374.167969 406.28125 373.035156 405.121094 371.875 C 403.964844 370.71875 402.832031 369.53125 401.734375 368.316406 C 400.632812 367.101562 399.5625 365.859375 398.519531 364.59375 C 397.480469 363.324219 396.472656 362.03125 395.496094 360.714844 C 394.519531 359.398438 393.574219 358.058594 392.664062 356.695312 C 391.753906 355.332031 390.878906 353.945312 390.035156 352.539062 C 389.191406 351.132812 388.382812 349.707031 387.609375 348.261719 C 386.839844 346.816406 386.101562 345.351562 385.402344 343.871094 C 384.699219 342.386719 384.035156 340.890625 383.410156 339.375 C 382.78125 337.859375 382.191406 336.332031 381.640625 334.789062 C 381.085938 333.242188 380.574219 331.6875 380.097656 330.117188 C 379.621094 328.550781 379.183594 326.96875 378.785156 325.378906 C 378.386719 323.789062 378.027344 322.1875 377.707031 320.582031 C 377.386719 318.972656 377.109375 317.359375 376.867188 315.738281 C 376.625 314.113281 376.425781 312.488281 376.265625 310.855469 C 376.105469 309.222656 375.984375 307.589844 375.902344 305.953125 C 375.824219 304.316406 375.78125 302.675781 375.78125 301.035156 C 375.78125 299.398438 375.824219 297.757812 375.902344 296.121094 C 375.984375 294.484375 376.105469 292.847656 376.265625 291.21875 C 376.425781 289.585938 376.625 287.957031 376.867188 286.335938 C 377.109375 284.714844 377.386719 283.101562 377.707031 281.492188 C 378.027344 279.882812 378.386719 278.285156 378.785156 276.695312 C 379.183594 275.105469 379.621094 273.523438 380.097656 271.953125 C 380.574219 270.386719 381.085938 268.828125 381.640625 267.285156 C 382.191406 265.742188 382.78125 264.210938 383.410156 262.699219 C 384.035156 261.183594 384.699219 259.683594 385.402344 258.203125 C 386.101562 256.71875 386.839844 255.257812 387.609375 253.808594 C 388.382812 252.363281 389.191406 250.9375 390.035156 249.53125 C 390.878906 248.125 391.753906 246.742188 392.664062 245.378906 C 393.574219 244.015625 394.519531 242.675781 395.496094 241.359375 C 396.472656 240.039062 397.480469 238.75 398.519531 237.480469 C 399.5625 236.214844 400.632812 234.972656 401.734375 233.757812 C 402.832031 232.542969 403.964844 231.355469 405.121094 230.195312 C 406.28125 229.035156 407.46875 227.90625 408.683594 226.804688 C 409.898438 225.703125 411.140625 224.632812 412.40625 223.59375 C 413.675781 222.554688 414.964844 221.546875 416.28125 220.570312 C 417.597656 219.59375 418.9375 218.648438 420.300781 217.738281 C 421.664062 216.828125 423.050781 215.949219 424.457031 215.105469 C 425.863281 214.261719 427.289062 213.457031 428.734375 212.683594 C 430.179688 211.910156 431.644531 211.171875 433.125 210.472656 C 434.609375 209.769531 436.105469 209.105469 437.621094 208.480469 C 439.136719 207.851562 440.664062 207.261719 442.207031 206.710938 C 443.75 206.15625 445.308594 205.644531 446.875 205.167969 C 448.445312 204.691406 450.023438 204.253906 451.613281 203.855469 C 453.207031 203.457031 454.804688 203.097656 456.414062 202.777344 C 458.019531 202.457031 459.636719 202.179688 461.257812 201.9375 C 462.878906 201.695312 464.503906 201.496094 466.136719 201.335938 C 467.769531 201.175781 469.402344 201.054688 471.039062 200.972656 C 472.675781 200.894531 474.316406 200.851562 475.953125 200.851562 Z M 475.953125 200.851562 " fill-opacity="1" fill-rule="nonzero"/></g><g clip-path="url(#01af969fd4)"><path fill="#000000" d="M 423.351562 540 C 429.179688 557.492188 419.707031 576.339844 402.328125 582.167969 L 375.0625 591.226562 L 375.0625 717.109375 C 375.0625 772.292969 419.8125 817.0625 474.96875 817.0625 C 530.125 817.0625 574.875 772.292969 574.875 717.109375 L 574.875 591.226562 L 547.710938 582.167969 C 530.230469 576.339844 520.863281 557.492188 526.691406 540 C 532.519531 522.507812 551.355469 513.136719 568.839844 518.96875 L 596 528.027344 C 623.160156 537.085938 641.476562 562.492188 641.476562 591.226562 L 641.476562 717.109375 C 641.476562 797.488281 584.65625 864.542969 509 880.265625 C 515.554688 938.46875 564.882812 983.65625 624.828125 983.65625 C 689.246094 983.65625 741.382812 931.492188 741.382812 867.042969 L 741.382812 793.429688 C 711.933594 780.621094 691.429688 751.261719 691.429688 717.109375 C 691.429688 671.085938 728.6875 633.8125 774.683594 633.8125 C 820.683594 633.8125 857.9375 671.085938 857.9375 717.109375 C 857.9375 751.261719 837.4375 780.621094 807.988281 793.429688 L 807.988281 867.042969 C 807.988281 968.246094 725.980469 1050.292969 624.828125 1050.292969 C 528.148438 1050.292969 449.054688 975.429688 442.1875 880.472656 C 365.90625 865.167969 308.460938 797.90625 308.460938 717.109375 L 308.460938 591.226562 C 308.460938 562.59375 326.777344 537.085938 354.042969 528.027344 L 381.203125 518.96875 C 398.6875 513.136719 417.523438 522.613281 423.351562 540 Z M 774.683594 750.425781 C 775.777344 750.425781 776.863281 750.375 777.949219 750.265625 C 779.035156 750.160156 780.113281 750 781.179688 749.785156 C 782.25 749.574219 783.308594 749.308594 784.351562 748.992188 C 785.394531 748.675781 786.421875 748.308594 787.429688 747.890625 C 788.4375 747.472656 789.421875 747.007812 790.382812 746.492188 C 791.34375 745.980469 792.28125 745.417969 793.1875 744.8125 C 794.09375 744.207031 794.96875 743.554688 795.8125 742.863281 C 796.652344 742.171875 797.460938 741.441406 798.234375 740.667969 C 799.003906 739.898438 799.734375 739.089844 800.425781 738.246094 C 801.121094 737.402344 801.769531 736.527344 802.375 735.621094 C 802.980469 734.710938 803.539062 733.777344 804.054688 732.816406 C 804.570312 731.851562 805.035156 730.867188 805.453125 729.859375 C 805.867188 728.851562 806.234375 727.824219 806.550781 726.78125 C 806.871094 725.738281 807.132812 724.679688 807.347656 723.609375 C 807.558594 722.539062 807.71875 721.460938 807.824219 720.375 C 807.933594 719.289062 807.988281 718.199219 807.988281 717.109375 C 807.988281 716.015625 807.933594 714.929688 807.824219 713.84375 C 807.71875 712.757812 807.558594 711.679688 807.347656 710.609375 C 807.132812 709.539062 806.867188 708.480469 806.550781 707.4375 C 806.234375 706.394531 805.867188 705.367188 805.453125 704.359375 C 805.035156 703.351562 804.570312 702.363281 804.054688 701.402344 C 803.539062 700.441406 802.980469 699.503906 802.375 698.597656 C 801.769531 697.691406 801.121094 696.816406 800.425781 695.972656 C 799.734375 695.128906 799.003906 694.320312 798.234375 693.550781 C 797.460938 692.777344 796.652344 692.046875 795.8125 691.351562 C 794.96875 690.660156 794.09375 690.011719 793.1875 689.40625 C 792.28125 688.800781 791.34375 688.238281 790.382812 687.722656 C 789.421875 687.210938 788.4375 686.746094 787.429688 686.328125 C 786.421875 685.910156 785.394531 685.542969 784.351562 685.226562 C 783.308594 684.910156 782.25 684.644531 781.179688 684.429688 C 780.113281 684.21875 779.035156 684.058594 777.949219 683.949219 C 776.863281 683.84375 775.777344 683.789062 774.683594 683.789062 C 773.59375 683.789062 772.507812 683.84375 771.421875 683.949219 C 770.335938 684.058594 769.257812 684.21875 768.1875 684.429688 C 767.117188 684.644531 766.0625 684.910156 765.019531 685.226562 C 763.972656 685.542969 762.949219 685.910156 761.941406 686.328125 C 760.933594 686.746094 759.949219 687.210938 758.988281 687.722656 C 758.023438 688.238281 757.089844 688.800781 756.183594 689.40625 C 755.277344 690.011719 754.402344 690.660156 753.558594 691.351562 C 752.714844 692.046875 751.90625 692.777344 751.136719 693.550781 C 750.367188 694.320312 749.632812 695.128906 748.941406 695.972656 C 748.25 696.816406 747.601562 697.691406 746.996094 698.597656 C 746.390625 699.503906 745.828125 700.441406 745.316406 701.402344 C 744.800781 702.363281 744.335938 703.351562 743.917969 704.359375 C 743.5 705.367188 743.132812 706.394531 742.816406 707.4375 C 742.5 708.480469 742.234375 709.539062 742.023438 710.609375 C 741.808594 711.679688 741.648438 712.757812 741.542969 713.84375 C 741.4375 714.929688 741.382812 716.015625 741.382812 717.109375 C 741.382812 718.199219 741.4375 719.289062 741.542969 720.375 C 741.648438 721.460938 741.808594 722.539062 742.023438 723.609375 C 742.234375 724.679688 742.5 725.738281 742.816406 726.78125 C 743.132812 727.824219 743.5 728.851562 743.917969 729.859375 C 744.335938 730.867188 744.800781 731.851562 745.316406 732.816406 C 745.828125 733.777344 746.390625 734.710938 746.996094 735.621094 C 747.601562 736.527344 748.25 737.402344 748.941406 738.246094 C 749.632812 739.089844 750.367188 739.898438 751.136719 740.667969 C 751.90625 741.441406 752.714844 742.171875 753.558594 742.863281 C 754.402344 743.554688 755.277344 744.207031 756.183594 744.8125 C 757.089844 745.417969 758.023438 745.980469 758.988281 746.492188 C 759.949219 747.007812 760.933594 747.472656 761.941406 747.890625 C 762.949219 748.308594 763.972656 748.675781 765.019531 748.992188 C 766.0625 749.308594 767.117188 749.574219 768.1875 749.785156 C 769.257812 750 770.335938 750.160156 771.421875 750.265625 C 772.507812 750.375 773.59375 750.425781 774.683594 750.425781 Z M 774.683594 750.425781 " fill-opacity="1" fill-rule="nonzero"/></g></svg>
    <div class="form-container">
        <div class="sidebar">
            <ul>
                <li class="active">Step 1 <br> <span>Datos Personales</span></li>
                <li>Step 2 <br> <span>Datos Profesionales</span></li>
                <li id="step3-main">Step 3 <br> <span>Datos Consultorio</span></li>
                <div id="dynamic-steps"></div> 
                <li>Step 4 <br> <span>Descripción</span></li>
            </ul>
        </div>        
        <div id="steps-container"></div>

        <div class="form-content">
            <form id="multiStepForm">
                <!-- Step 1 -->
                <div class="step active" id="step1">
                    <h3>Datos Personales y Contacto</h3>
                    <input placeholder="Nombre" name="nombre" type="text" required> <br> <br>
                    <input placeholder="Apellido" name="apellido" type="text" required> <br> <br>
                    <input placeholder="Correo electrónico" name="email" type="email" required> <br> <br>
                    <input placeholder="Teléfono/Celular" name="telefono" type="tel" required> <br> <br>
                    <button type="button" onclick="nextStep(1)">Continuar</button>
                </div>

                <!-- Step 2 -->
                <div class="step" id="step2">
                    <h3>Datos Profesionales</h3>
                    <input placeholder="Especialidad" name="especialidad" type="text" required> <br> <br>
                    <input placeholder="Profesión" name="profesion" type="text" required> <br> <br>
                    <input placeholder="¿Donde estudiaste?" name="estudio" type="text" required> <br> <br>
                    <button type="button" onclick="prevStep(2)">Atrás</button>
                    <button type="button" onclick="nextStep(2)">Continuar</button>
                </div>

                <!-- Step 3 -->
                <div class="step" id="step3">
                    <h3 id="titulo-consultorio">Datos Consultorio</h3>
                    <div id="step-3-container">
                        <label for="num-consultorios">Cantidad de consultorios:</label>
                        <input type="number" id="num-consultorios" min="1" value="1">
                    </div> <br> <br>
                    <input placeholder="Horarios"  name="horarios" type="text" id="horarios" required> <br> <br>
                    <input placeholder="País"  name="pais" type="text" id="pais" required> <br> <br>
                    <input placeholder="Estado/Provincia" name="estado" type="text" id="estado" required> <br> <br>
                    <div class="inline-group">
                        <input placeholder="Calle" name="calle" type="text" id="calle" required>
                        <input placeholder="Número" name="numero" type="text" id="numero" required>
                    </div> <br> 
                    <input placeholder="Código postal" name="codigo_postal" type="text" id="codigo-postal" required> <br> <br>
                    <button type="button" onclick="prevStep(3)">Atrás</button>
                    <button type="button" onclick="nextStep(3)">Continuar</button>
                </div>
                

                <!-- Step 4 -->
                <div class="step" id="step4">
                    <h3>Descripción en DocsMap!</h3>
                    <textarea name="mensaje" placeholder="Cuentanos un poco sobre vos..." required></textarea>
                    <button type="button" onclick="prevStep(4)">Atrás</button>
                    <button type="submit">Enviar</button>
                </div>
            </form>
            <div id="successMessage" class="hidden">
                <h2>Gracias por enviar tu solicitud para unirte a DocsMap, pronto nos pondremos en contacto!</h2>
            </div>
        </div>
    </div>
    <script src="script.js"></script>

    <script>
     document.addEventListener("DOMContentLoaded", function () {
     document.getElementById('multiStepForm').addEventListener('submit', async function (e) {
        e.preventDefault();

        const formData = new FormData(this);
        let jsonData = Object.fromEntries(formData.entries());

        let consultorios = [];
        document.querySelectorAll('.consultorio').forEach((consultorio, index) => {
            const pais = consultorio.querySelector('[name="pais"]').value;
            const estado = consultorio.querySelector('[name="estado"]').value;
            const calle = consultorio.querySelector('[name="calle"]').value;
            const numero = consultorio.querySelector('[name="numero"]').value;
            const codigo_postal = consultorio.querySelector('[name="codigo_postal"]').value;
 
            if (pais && estado && calle && numero && codigo_postal) {
                consultorios.push({ pais, estado, calle, numero, codigo_postal });
            }
        });

        jsonData.consultorios = consultorios; 

        console.log('Datos enviados:', jsonData); 

        const response = await fetch('http://localhost:3000/send-email', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(jsonData)
        });

        const result = await response.json();
        alert(result.message);
    });
});

    </script>
</body>
</html>